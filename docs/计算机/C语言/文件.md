# C语言

### 1. 什么是int main(int argc, char *argv[])

[知乎上有完整解释](https://zhuanlan.zhihu.com/p/140534864 "详解")

#### 1.1 enum（枚举类型）

??? abstract"[原文](https://www.runoob.com/cprogramming/c-enum.html)"

    "enum weekday{sun=7,mon=1,tue,wed,thu,fri,sat}day；"这时，sun 为 7， mon为 1，以后元素顺次加 1，所以 sat 就是 6 了。


### 2. Valgrind

#### 2.1报告的信息

![1](./001.png)

（1）当前程序（./test1_g）的进程号
（2）valgrind memcheck工具的license说明
（3）加载程序的运行方式
（4）父进程号，当前终端的进程
（5）检测到的错误信息
（6）堆栈摘要、小结，该例子中总共两次alloc、两次free，没有内存泄漏
（7）检测到的错误数量，这里提示1个
原文链接：https://blog.csdn.net/weixin_45518728/article/details/119865117

### 3. return

#### 3.1 return 0 , return 1 和 return -1

return 1和 return -1不能同时出现在同一个函数中。  
return关键字的作用是返回程序流程的控制权！只要使用了retrun，不管有无返回值，都表示该函数调用结束。

return0   代表函数正常终止

return1   代表函数非正常终止

return-1  也代表函数非正常终止。
原文链接：https://blog.csdn.net/jinchi_boke/article/details/115332701

### 4.一些系统自带的函数

#### 4.1 `isalpha`和`isblank`

isBlank(null)------true
isBlank(" ")------true
isBlank("\t \n \f \r")------true      //制表符、换行符、换页符和回车符
isBlank("a")------false

int isalpha(int c);      c -- 这是要检查的字符。  如果 c 是一个字母，则该函数返回非零值，否则返回 0。

#### 4.2 `rand（）`和`srand()` <font color=Fuchsia>随机数与种子</font>

- rand()函数用于产生一个随机数，其内部实现是用线性同余法实现的，是伪随机数，由于周期较长，因此在一定范围内可以看成是随机的。
- srand()函数产生随机种子。
- [原文](https://blog.csdn.net/qq_43516928/article/details/118864806)

### 5. 数组与指针

#### 5.1 深入理解char * ,char ** ,char a[ ] ,char *a[]

```
printf("%s",str);
```

关键之处<font color=Coral>为什么用首地址就可以输出字符串。因为还有一个关键，在C语言中字符串常量的本质表示其实是一个地址，这是许多初学者比较难理解的问题。</font>

举例：

```
char  *s ;

s = "China";
```

<font color=DodgerBlue>为什么可以把一个字符串赋给一个指针变量。       这不是类型不一致吗 这就是上面提到的关键 。       C语言中编译器会给字符串常量分配地址，如果 "China", 存储在内存中的 0x3000 0x3001 0x3002 0x3003 0x3004 0x3005 . s = "China" ，意识是什么，对了，地址。      其实真正的意义是 s ="China" = 0x3000; 看清楚了吧 ，你把China 看作是字符串，但是编译器把它看作是地址 0x3000，即字符串常量的本质表现是代表它的第一个字符的地址。s = 0x3000 这样写似乎更符合直观的意思。搞清楚这个问题。      那么 %s ，它的原理其实也是通过字符串首地址输出字符串，printf("%s ", s); 传给它的其实是s所保存的字符串的地址。</font>

[点此进入原文](https://www.cnblogs.com/ZY-Dream/p/10038503.html "博客园")

### 6.内存

#### 6.1 malloc

[原文链接](https://blog.csdn.net/TheWhiteFox/article/details/108502906)

### 7.结构体

#### 7.1 示例

```
#include <stdio.h>
struct student //结构体类型的说明与定义分开。声明
{
int age;  /*年龄*/
float score; /*分数*/
char sex;   /*性别*/
};
int main ()
{
struct student a={ 20,79,'f'}; //定义
printf("年龄：%d 分数：%.2f 性别：%c\n", a.age, a.score, a.sex );
return 0;
```

#### 7.2 结构体长度

数据类型的字节数：

<font style=background:red>32位编译器   char ：1个字节
char*（即指针变量）: 4个字节（32位的寻址空间是2^32, 即32个bit，也就是4个字节。同理64位编译器）
short int : 2个字节
int：  4个字节
unsigned int : 4个字节
float:  4个字节
double:   8个字节
long:   4个字节
long long:  8个字节
unsigned long:  4个字节</font>

[原文](https://blog.csdn.net/lyh290188/article/details/104326450)

#### 7.3 typedef

它是C的一个关键字，可以给其它更复杂的类型起个新的名字。（为用户自定义的数据类型取一个新的名字）

```
#include <stdio.h>
#include <string.h>
 
typedef struct Books
{
   char  title[50];
   char  author[50];
   char  subject[100];
   int   book_id;
} Book;
 
int main( )
{
   Book book;
 
   strcpy( book.title, "C 教程");
   strcpy( book.author, "Runoob"); 
   strcpy( book.subject, "编程语言");
   book.book_id = 12345;
 
   printf( "书标题 : %s\n", book.title);
   printf( "书作者 : %s\n", book.author);
   printf( "书类目 : %s\n", book.subject);
   printf( "书 ID : %d\n", book.book_id);
 
   return 0;
}
```

打印结果

```
书标题 : C 教程
书作者 : Runoob
书类目 : 编程语言
书 ID : 12345
```

#### 7.4 strcpy

对字符串进行复制

```
#include <stdio.h>
#include <string.h>
 
int main ()
{
  char str1[]="Sample string";
  char str2[40];
  char str3[40];
  strcpy (str2,str1);
  strcpy (str3,"copy successful");
  printf ("str1: %s\nstr2: %s\nstr3: %s\n",str1,str2,str3);
  return 0;
}
```

结果

```
str1: Sample string
str2: Sample string
str3: copy successful
```

### 8. 函数指针

[原文](https://blog.csdn.net/qq_27825451/article/details/103081289 "比c简单且能看懂")

#### 8.1 定义类型与变量

- <font color=Chartreuse>指针函数：        int *p(int, int) 里面的 * 是和前面的 int 在一起的，表示返回值类型是 int*</font>

- <font color=Crimson>函数指针：定义一个指向函数的指针变量</font>

### 9. C预编译器

#### 9.1 #ifdef  

 判断某个宏是否被定义，若已定义，执行随后的语句

#### 9.2 特性

- `##`串联一个参数

关于<font color=DarkGreen>宏替换</font>的使用[原文](https://blog.csdn.net/qq_33919450/article/details/121965599)

### 9.3 ...与 `__VA_ARGS__`

在宏定义中，可变参数的部分用__VA_ARGS__表示，实参中对应...的几个参数可以看成一个参数替
换到宏定义中__VA_ARGS__所在的地方。

[原文](https://blog.csdn.net/luolaihua2018/article/details/124067982)（<span style=background:Cyan>条件编译与预处理宏</span>）
